<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>include | nsyslog</title>
    <meta name="description" content="El agente de la próxima generación">
    
    
    <link rel="preload" href="/assets/css/0.styles.79931b71.css" as="style"><link rel="preload" href="/assets/js/app.47370c8c.js" as="script"><link rel="preload" href="/assets/js/2.d8bd88d5.js" as="script"><link rel="preload" href="/assets/js/24.b3f2efd1.js" as="script"><link rel="prefetch" href="/assets/js/10.9d364d39.js"><link rel="prefetch" href="/assets/js/100.c355677c.js"><link rel="prefetch" href="/assets/js/101.41752c11.js"><link rel="prefetch" href="/assets/js/102.1498ed74.js"><link rel="prefetch" href="/assets/js/103.2fc87711.js"><link rel="prefetch" href="/assets/js/104.00bbd38d.js"><link rel="prefetch" href="/assets/js/105.d9483041.js"><link rel="prefetch" href="/assets/js/106.714e333f.js"><link rel="prefetch" href="/assets/js/107.6cd14b33.js"><link rel="prefetch" href="/assets/js/108.28a033a0.js"><link rel="prefetch" href="/assets/js/109.32044624.js"><link rel="prefetch" href="/assets/js/11.b2fdb70d.js"><link rel="prefetch" href="/assets/js/110.a92e305d.js"><link rel="prefetch" href="/assets/js/111.7ca00220.js"><link rel="prefetch" href="/assets/js/112.1b4c788a.js"><link rel="prefetch" href="/assets/js/113.5ca4557d.js"><link rel="prefetch" href="/assets/js/114.d8db7c2c.js"><link rel="prefetch" href="/assets/js/115.33d35b11.js"><link rel="prefetch" href="/assets/js/116.69fe7eeb.js"><link rel="prefetch" href="/assets/js/117.21e91099.js"><link rel="prefetch" href="/assets/js/118.64e97595.js"><link rel="prefetch" href="/assets/js/119.909e8186.js"><link rel="prefetch" href="/assets/js/12.4b78b983.js"><link rel="prefetch" href="/assets/js/120.21bd2bb4.js"><link rel="prefetch" href="/assets/js/121.2769a64e.js"><link rel="prefetch" href="/assets/js/122.03aae9fa.js"><link rel="prefetch" href="/assets/js/123.08aafeaf.js"><link rel="prefetch" href="/assets/js/124.a95dec15.js"><link rel="prefetch" href="/assets/js/125.67095ca2.js"><link rel="prefetch" href="/assets/js/126.15b6a09c.js"><link rel="prefetch" href="/assets/js/127.d0b37492.js"><link rel="prefetch" href="/assets/js/128.13a716c4.js"><link rel="prefetch" href="/assets/js/13.3796d26d.js"><link rel="prefetch" href="/assets/js/14.88c6d09b.js"><link rel="prefetch" href="/assets/js/15.1dd79288.js"><link rel="prefetch" href="/assets/js/16.4b5da535.js"><link rel="prefetch" href="/assets/js/17.1653b68d.js"><link rel="prefetch" href="/assets/js/18.47e95e44.js"><link rel="prefetch" href="/assets/js/19.1ecd079e.js"><link rel="prefetch" href="/assets/js/20.5ef6f927.js"><link rel="prefetch" href="/assets/js/21.5970e399.js"><link rel="prefetch" href="/assets/js/22.cbb25efb.js"><link rel="prefetch" href="/assets/js/23.a6316658.js"><link rel="prefetch" href="/assets/js/25.4c898c9a.js"><link rel="prefetch" href="/assets/js/26.fb0d6c0c.js"><link rel="prefetch" href="/assets/js/27.d3023115.js"><link rel="prefetch" href="/assets/js/28.c3c946b8.js"><link rel="prefetch" href="/assets/js/29.29b1b876.js"><link rel="prefetch" href="/assets/js/3.96d0dbe8.js"><link rel="prefetch" href="/assets/js/30.611d6533.js"><link rel="prefetch" href="/assets/js/31.2fee8414.js"><link rel="prefetch" href="/assets/js/32.2cae78f9.js"><link rel="prefetch" href="/assets/js/33.64db7644.js"><link rel="prefetch" href="/assets/js/34.77d47427.js"><link rel="prefetch" href="/assets/js/35.0b95cd13.js"><link rel="prefetch" href="/assets/js/36.44d2365f.js"><link rel="prefetch" href="/assets/js/37.c1302791.js"><link rel="prefetch" href="/assets/js/38.339ae9ed.js"><link rel="prefetch" href="/assets/js/39.e2c76f4b.js"><link rel="prefetch" href="/assets/js/4.3776f917.js"><link rel="prefetch" href="/assets/js/40.5640cb70.js"><link rel="prefetch" href="/assets/js/41.81836fb3.js"><link rel="prefetch" href="/assets/js/42.48d4e003.js"><link rel="prefetch" href="/assets/js/43.1495b682.js"><link rel="prefetch" href="/assets/js/44.94ded4b2.js"><link rel="prefetch" href="/assets/js/45.9c56fd8b.js"><link rel="prefetch" href="/assets/js/46.01168f36.js"><link rel="prefetch" href="/assets/js/47.3b03ec3e.js"><link rel="prefetch" href="/assets/js/48.22a4ec5c.js"><link rel="prefetch" href="/assets/js/49.281f8ba7.js"><link rel="prefetch" href="/assets/js/5.728d99a8.js"><link rel="prefetch" href="/assets/js/50.f59ab7aa.js"><link rel="prefetch" href="/assets/js/51.8b3665e0.js"><link rel="prefetch" href="/assets/js/52.ad79bb25.js"><link rel="prefetch" href="/assets/js/53.8d55f21a.js"><link rel="prefetch" href="/assets/js/54.de046f15.js"><link rel="prefetch" href="/assets/js/55.093dd3bb.js"><link rel="prefetch" href="/assets/js/56.a92237ef.js"><link rel="prefetch" href="/assets/js/57.32d1cf38.js"><link rel="prefetch" href="/assets/js/58.324c2875.js"><link rel="prefetch" href="/assets/js/59.50829027.js"><link rel="prefetch" href="/assets/js/6.5135448c.js"><link rel="prefetch" href="/assets/js/60.e4b6d3a5.js"><link rel="prefetch" href="/assets/js/61.04f3b572.js"><link rel="prefetch" href="/assets/js/62.11576ce7.js"><link rel="prefetch" href="/assets/js/63.de314a40.js"><link rel="prefetch" href="/assets/js/64.042fd9f8.js"><link rel="prefetch" href="/assets/js/65.0f0adc62.js"><link rel="prefetch" href="/assets/js/66.694274a6.js"><link rel="prefetch" href="/assets/js/67.f15c5929.js"><link rel="prefetch" href="/assets/js/68.849e9936.js"><link rel="prefetch" href="/assets/js/69.91439de8.js"><link rel="prefetch" href="/assets/js/7.cb2813d5.js"><link rel="prefetch" href="/assets/js/70.75a6b401.js"><link rel="prefetch" href="/assets/js/71.1ba0d8fc.js"><link rel="prefetch" href="/assets/js/72.02fc4c34.js"><link rel="prefetch" href="/assets/js/73.186dad2c.js"><link rel="prefetch" href="/assets/js/74.39ccb4ba.js"><link rel="prefetch" href="/assets/js/75.688fcd1c.js"><link rel="prefetch" href="/assets/js/76.4b50b076.js"><link rel="prefetch" href="/assets/js/77.59ab0cc3.js"><link rel="prefetch" href="/assets/js/78.40538270.js"><link rel="prefetch" href="/assets/js/79.dca7b0e7.js"><link rel="prefetch" href="/assets/js/8.87304cd4.js"><link rel="prefetch" href="/assets/js/80.38fc501b.js"><link rel="prefetch" href="/assets/js/81.cab6edea.js"><link rel="prefetch" href="/assets/js/82.745de743.js"><link rel="prefetch" href="/assets/js/83.715fbd03.js"><link rel="prefetch" href="/assets/js/84.bdb6533f.js"><link rel="prefetch" href="/assets/js/85.7424d188.js"><link rel="prefetch" href="/assets/js/86.457aefea.js"><link rel="prefetch" href="/assets/js/87.777f89be.js"><link rel="prefetch" href="/assets/js/88.cd88b894.js"><link rel="prefetch" href="/assets/js/89.6885e1c2.js"><link rel="prefetch" href="/assets/js/9.bcba4948.js"><link rel="prefetch" href="/assets/js/90.7d96fd51.js"><link rel="prefetch" href="/assets/js/91.e8b92097.js"><link rel="prefetch" href="/assets/js/92.60160d74.js"><link rel="prefetch" href="/assets/js/93.882dbfde.js"><link rel="prefetch" href="/assets/js/94.72fd8192.js"><link rel="prefetch" href="/assets/js/95.f83954bd.js"><link rel="prefetch" href="/assets/js/96.b9550a47.js"><link rel="prefetch" href="/assets/js/97.9e8db42e.js"><link rel="prefetch" href="/assets/js/98.ef1a476c.js"><link rel="prefetch" href="/assets/js/99.8bc53b3e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.79931b71.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="inner"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/es/" class="home-link router-link-active"><!----> <span class="site-name">nsyslog</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/es/intro/install.html" class="nav-link">Inicio</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/es/intro/basics.html" class="nav-link">Introducción</a></li><li class="dropdown-item"><!----> <a href="/es/config/basic.html" class="nav-link">Configuración</a></li><li class="dropdown-item"><!----> <a href="/es/inputs/index.html" class="nav-link">Fuentes</a></li><li class="dropdown-item"><!----> <a href="/es/processors/index.html" class="nav-link">Procesadores</a></li><li class="dropdown-item"><!----> <a href="/es/transporters/index.html" class="nav-link">Transportes</a></li></ul></div></div><div class="nav-item"><a href="/jsdoc/index.html" class="nav-link">API docs</a></div><div class="nav-item"><a href="https://github.com/solzimer/nsyslog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Descarga
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/config/include.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/es/config/include.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <!----></nav> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="docs-layout"><aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/es/intro/install.html" class="nav-link">Inicio</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/es/intro/basics.html" class="nav-link">Introducción</a></li><li class="dropdown-item"><!----> <a href="/es/config/basic.html" class="nav-link">Configuración</a></li><li class="dropdown-item"><!----> <a href="/es/inputs/index.html" class="nav-link">Fuentes</a></li><li class="dropdown-item"><!----> <a href="/es/processors/index.html" class="nav-link">Procesadores</a></li><li class="dropdown-item"><!----> <a href="/es/transporters/index.html" class="nav-link">Transportes</a></li></ul></div></div><div class="nav-item"><a href="/jsdoc/index.html" class="nav-link">API docs</a></div><div class="nav-item"><a href="https://github.com/solzimer/nsyslog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Descarga
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/config/include.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/es/config/include.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/es/config/basic.html" class="sidebar-link">Configuración</a></li><li><a href="/es/config/include.html" class="active sidebar-link">include</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/es/config/include.html#ejemplo" class="sidebar-link">Ejemplo</a></li><li class="sidebar-sub-header"><a href="/es/config/include.html#namespaces-y-resolucion-de-conflictos" class="sidebar-link">namespaces y resolución de conflictos</a></li><li class="sidebar-sub-header"><a href="/es/config/include.html#multiple-inclusion" class="sidebar-link">Múltiple inclusión</a></li></ul></li><li><a href="/es/config/properties.html" class="sidebar-link">properties</a></li><li><a href="/es/config/config.html" class="sidebar-link">config</a></li><li><a href="/es/config/inputs.html" class="sidebar-link">inputs</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="include"><a href="#include" aria-hidden="true" class="header-anchor">#</a> include</h1> <p>La propiedad <em>include</em> sirve para separar una configuración en diversos ficheros que se incluyan entre ellos, y así poder cumplir con dos propósitos principales:</p> <ul><li>Evitar que un fichero de configuración sea demasiado grande y complejo de gestionar</li> <li>Crear configuraciones reutilizables mediante composición de ficheros</li></ul> <h2 id="ejemplo"><a href="#ejemplo" aria-hidden="true" class="header-anchor">#</a> Ejemplo</h2> <p>logagent.json</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;include&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;common_tasks.json&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>

	<span class="token property">&quot;inputs&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;file&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;config&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;path&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/var/log/*&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>		
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token property">&quot;transporters&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;logger&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;console&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;config&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;format&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;${JSON}&quot;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token property">&quot;flows&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span><span class="token property">&quot;from&quot;</span><span class="token operator">:</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;processors&quot;</span><span class="token operator">:</span><span class="token string">&quot;$common&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transporters&quot;</span><span class="token operator">:</span><span class="token string">&quot;logger&quot;</span><span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>common_tasks.json:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;processors&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;parser&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;syslogparser&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;keyval&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;keyvalparser&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;config&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;input&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;${syslog.message}&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;output&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;fields&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;filter&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;properties&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;when&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;filter&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;fields.ipaddr&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;$ne&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;match&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;process&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;nomatch&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;block&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token property">&quot;processorGroups&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;common&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;parser&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;keyval&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;filter&quot;</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>En este ejemplo, hemos separado la configuración en dos ficheros; un fichero principal (logagent.json), y un segundo fichero de procesadores reutilizable (common_tasks.json).</p> <h2 id="namespaces-y-resolucion-de-conflictos"><a href="#namespaces-y-resolucion-de-conflictos" aria-hidden="true" class="header-anchor">#</a> namespaces y resolución de conflictos</h2> <p>Los <em>namespaces</em> (espacios de nombres), permiten encapsular los componentes definidos en un fichero bajo un identificador común y único, para evitar conflictos con otros componentes incluidos desde otros ficheros y que puedan tener id's de componentes idénticos.</p> <p>Por ejemplo:
include1.json</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;processors&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;parser&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;jsonparser&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;config&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;input&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;${originalMessage}&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;output&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;json&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		....
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>include2.json</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;processors&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;parser&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;syslogparser&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;config&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;input&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;${originalMessage}&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		....
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>logagent.json:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;include&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;include1.json&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;include2.json&quot;</span>
	<span class="token punctuation">]</span>

	...
<span class="token punctuation">}</span>
</code></pre></div><p>Existe un conflicto puesto que dos ficheros han declarado dos procesadores distintos pero con el mismo identificador (&quot;parser&quot;). Cuando la configuración se lea, sólo uno de ellos será efectivo (el otro quedará sobrescrito), y la configuración tendrá un comportamiento no deseado.</p> <p>Lamentablemente, a día de hoy nsyslog no soporta todavía el uso de <em>namespaces</em>, aunque se está trabajando duramente en ello. Mientras tanto, las única recomendación que podemos dar es:</p> <ul><li>Siempre usar ID's de componentes claramente diferenciados (pseudo <em>namespaces</em>)</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;processors&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;proc:common:json:parser&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;jsonparser&quot;</span><span class="token punctuation">,</span>
			...
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>De esta forma trataremos de asegurarnos que no haya conflictos, además de sentar las bases para una futura implentación de <em>namespaces</em> en nsyslog.</p> <h2 id="multiple-inclusion"><a href="#multiple-inclusion" aria-hidden="true" class="header-anchor">#</a> Múltiple inclusión</h2> <p>nsyslog procesa los ficheros de configuración mediante el siguiente flujo:</p> <ol><li>Lee el fichero principal</li> <li>Parsea el contenido a JSON</li> <li>Busca el elemento &quot;include&quot;</li> <li>Lee los ficheros contenidos en el campo &quot;include&quot; y los parsea</li> <li>Combina el fichero principal con los ficheros hijo</li> <li>Repite el proceso desde el punto 3 con el nuevo fichero combinado</li></ol> <p>Como se puede apreciar, no es un proceso en el que cada fichero tiene su propio ámbito, sino que basta incluir una sola vez un fichero para que su contenido sea accesible desde los demás ficheros referenciados, sea cual sea el nivel en el que fueron incluidos. Dicho de otra forma, nsyslog simplemente genera un &quot;gran&quot; fichero resultado de combinar todos aquellos que en algún momento han sido referenciados desde un elemento &quot;include&quot;.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/es/config/basic.html" class="prev">
          Configuración
        </a></span> <span class="next"><a href="/es/config/properties.html">
          properties
        </a>
        →
      </span></p></div> </main></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.47370c8c.js" defer></script><script src="/assets/js/2.d8bd88d5.js" defer></script><script src="/assets/js/24.b3f2efd1.js" defer></script>
  </body>
</html>
